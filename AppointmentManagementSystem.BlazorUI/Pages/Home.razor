@page "/"
@layout AppointmentManagementSystem.BlazorUI.Shared.LandingLayout
@using AppointmentManagementSystem.Application.DTOs
@using AppointmentManagementSystem.BlazorUI.Services.ApiServices
@using Radzen
@inject ICategoryApiService CategoryApiService
@inject NavigationManager Navigation

<PageTitle>Aptiva Plan - Online Randevu Sistemi</PageTitle>

<!-- Hero Section - Premium -->
<div id="hero" class="hero-section">
    <div class="hero-bg-animation"></div>
    <div class="hero-content">
        <div class="hero-badge">
            <RadzenIcon Icon="verified" Style="font-size: 16px; margin-right: 8px;" />
            <span>TÃ¼rkiye'nin En GÃ¼venilir Randevu Platformu</span>
        </div>
        <h1 class="hero-title">
            RandevularÄ±nÄ±zÄ± 
            <span class="gradient-text">Kolayca YÃ¶netin</span>
        </h1>
        <p class="hero-subtitle">
            Modern, hÄ±zlÄ± ve kullanÄ±cÄ± dostu randevu yÃ¶netim sistemi ile iÅŸletmenizi dijitalleÅŸtirin. 
            <span class="highlight-text">7/24 online randevu</span> imkanÄ± sunun!
        </p>
        <div class="hero-buttons">
            <button class="btn-primary-hero" @onclick="@(() => Navigation.NavigateTo("/register"))">
                <span>Ãœcretsiz BaÅŸla</span>
                <RadzenIcon Icon="arrow_forward" Style="font-size: 20px; margin-left: 8px;" />
            </button>
            <button class="btn-secondary-hero" @onclick="@(() => Navigation.NavigateTo("/categories"))">
                <RadzenIcon Icon="play_circle" Style="font-size: 20px; margin-right: 8px;" />
                <span>Demo Ä°zle</span>
            </button>
        </div>
        <div class="hero-stats">
            <div class="stat-item">
                <div class="stat-number">10K+</div>
                <div class="stat-label">Aktif Ä°ÅŸletme</div>
            </div>
            <div class="stat-divider"></div>
            <div class="stat-item">
                <div class="stat-number">50K+</div>
                <div class="stat-label">Mutlu MÃ¼ÅŸteri</div>
            </div>
            <div class="stat-divider"></div>
            <div class="stat-item">
                <div class="stat-number">99.9%</div>
                <div class="stat-label">Uptime</div>
            </div>
        </div>
    </div>
    <div class="hero-decoration">
        <div class="floating-shape shape-1"></div>
        <div class="floating-shape shape-2"></div>
        <div class="floating-shape shape-3"></div>
    </div>
</div>

<!-- Features Section - Premium -->
<div id="features" class="features-section">
    <div class="section-container">
        <div class="section-header">
            <span class="section-badge">
                <RadzenIcon Icon="bolt" Style="font-size: 14px; margin-right: 6px;" />
                Ã–ZELLÄ°KLER
            </span>
            <h2 class="section-title">Neden Aptiva Plan?</h2>
            <p class="section-subtitle">Ä°ÅŸletmenizi bir Ã¼st seviyeye taÅŸÄ±yacak gÃ¼Ã§lÃ¼ Ã¶zellikler</p>
        </div>

        <div class="features-grid">
            <div class="feature-card" @onmouseenter="@((args) => HandleHover(args, 0))" @onmouseleave="@((args) => HandleHover(args, -1))">
                <div class="feature-icon icon-purple">
                    <RadzenIcon Icon="event" Style="font-size: 32px;" />
                    <div class="icon-glow glow-purple"></div>
                </div>
                <h3 class="feature-title">Online Randevu</h3>
                <p class="feature-description">
                    MÃ¼ÅŸterileriniz 7/24 online randevu alabilir. Telefon trafiÄŸinden kurtulun.
                </p>
                <div class="feature-link">
                    Daha Fazla
                    <RadzenIcon Icon="arrow_forward" Style="font-size: 16px; margin-left: 4px;" />
                </div>
            </div>

            <div class="feature-card" @onmouseenter="@((args) => HandleHover(args, 1))" @onmouseleave="@((args) => HandleHover(args, -1))">
                <div class="feature-icon icon-green">
                    <RadzenIcon Icon="notifications" Style="font-size: 32px;" />
                    <div class="icon-glow glow-green"></div>
                </div>
                <h3 class="feature-title">Otomatik Bildirimler</h3>
                <p class="feature-description">
                    Randevu hatÄ±rlatmalarÄ± otomatik gÃ¶nderilir. No-show oranÄ±nÄ± dÃ¼ÅŸÃ¼rÃ¼n.
                </p>
                <div class="feature-link">
                    Daha Fazla
                    <RadzenIcon Icon="arrow_forward" Style="font-size: 16px; margin-left: 4px;" />
                </div>
            </div>

            <div class="feature-card" @onmouseenter="@((args) => HandleHover(args, 2))" @onmouseleave="@((args) => HandleHover(args, -1))">
                <div class="feature-icon icon-orange">
                    <RadzenIcon Icon="analytics" Style="font-size: 32px;" />
                    <div class="icon-glow glow-orange"></div>
                </div>
                <h3 class="feature-title">DetaylÄ± Raporlar</h3>
                <p class="feature-description">
                    Ä°ÅŸletmenizin performansÄ±nÄ± anlÄ±k takip edin. Veri odaklÄ± kararlar alÄ±n.
                </p>
                <div class="feature-link">
                    Daha Fazla
                    <RadzenIcon Icon="arrow_forward" Style="font-size: 16px; margin-left: 4px;" />
                </div>
            </div>

            <div class="feature-card" @onmouseenter="@((args) => HandleHover(args, 3))" @onmouseleave="@((args) => HandleHover(args, -1))">
                <div class="feature-icon icon-red">
                    <RadzenIcon Icon="star" Style="font-size: 32px;" />
                    <div class="icon-glow glow-red"></div>
                </div>
                <h3 class="feature-title">MÃ¼ÅŸteri YorumlarÄ±</h3>
                <p class="feature-description">
                    MÃ¼ÅŸteri memnuniyetini Ã¶lÃ§Ã¼n. Yorumlar ve puanlamalarla gÃ¼ven kazanÄ±n.
                </p>
                <div class="feature-link">
                    Daha Fazla
                    <RadzenIcon Icon="arrow_forward" Style="font-size: 16px; margin-left: 4px;" />
                </div>
            </div>
        </div>
    </div>
</div>

<!-- How It Works Section - Premium -->
<div id="how-it-works" class="how-it-works-section">
    <div class="section-container">
        <div class="section-header">
            <span class="section-badge badge-light">
                <RadzenIcon Icon="info" Style="font-size: 14px; margin-right: 6px;" />
                NASIL Ã‡ALIÅžIR
            </span>
            <h2 class="section-title">3 AdÄ±mda BaÅŸlayÄ±n</h2>
            <p class="section-subtitle">Ä°ÅŸletmenizi dijitalleÅŸtirmek hiÃ§ bu kadar kolay olmamÄ±ÅŸtÄ±</p>
        </div>

        <div class="steps-container">
            <div class="step-card">
                <div class="step-number-wrapper">
                    <div class="step-number step-purple">
                        <span>01</span>
                        <div class="step-pulse"></div>
                    </div>
                    <div class="step-connector"></div>
                </div>
                <div class="step-icon step-icon-purple">
                    <RadzenIcon Icon="person_add" Style="font-size: 28px;" />
                </div>
                <h3 class="step-title">KayÄ±t Olun</h3>
                <p class="step-description">
                    Ä°ÅŸletmenizi ve hizmetlerinizi sisteme ekleyin. Sadece 5 dakika sÃ¼rer!
                </p>
                <div class="step-features">
                    <div class="step-feature-item">
                        <RadzenIcon Icon="check_circle" Style="font-size: 16px; color: #10b981; margin-right: 8px;" />
                        <span>HÄ±zlÄ± Kurulum</span>
                    </div>
                    <div class="step-feature-item">
                        <RadzenIcon Icon="check_circle" Style="font-size: 16px; color: #10b981; margin-right: 8px;" />
                        <span>Kolay Entegrasyon</span>
                    </div>
                </div>
            </div>

            <div class="step-card">
                <div class="step-number-wrapper">
                    <div class="step-number step-green">
                        <span>02</span>
                        <div class="step-pulse"></div>
                    </div>
                    <div class="step-connector"></div>
                </div>
                <div class="step-icon step-icon-green">
                    <RadzenIcon Icon="share" Style="font-size: 28px;" />
                </div>
                <h3 class="step-title">PaylaÅŸÄ±n</h3>
                <p class="step-description">
                    Ä°ÅŸletme profilinizi mÃ¼ÅŸterilerinizle paylaÅŸÄ±n. Sosyal medyada duyurun.
                </p>
                <div class="step-features">
                    <div class="step-feature-item">
                        <RadzenIcon Icon="check_circle" Style="font-size: 16px; color: #10b981; margin-right: 8px;" />
                        <span>Ã–zel Link</span>
                    </div>
                    <div class="step-feature-item">
                        <RadzenIcon Icon="check_circle" Style="font-size: 16px; color: #10b981; margin-right: 8px;" />
                        <span>Sosyal Medya</span>
                    </div>
                </div>
            </div>

            <div class="step-card">
                <div class="step-number-wrapper">
                    <div class="step-number step-orange">
                        <span>03</span>
                        <div class="step-pulse"></div>
                    </div>
                </div>
                <div class="step-icon step-icon-orange">
                    <RadzenIcon Icon="settings" Style="font-size: 28px;" />
                </div>
                <h3 class="step-title">YÃ¶netin</h3>
                <p class="step-description">
                    RandevularÄ± yÃ¶netin, mÃ¼ÅŸterilerinize harika hizmet verin!
                </p>
                <div class="step-features">
                    <div class="step-feature-item">
                        <RadzenIcon Icon="check_circle" Style="font-size: 16px; color: #10b981; margin-right: 8px;" />
                        <span>AnlÄ±k Takip</span>
                    </div>
                    <div class="step-feature-item">
                        <RadzenIcon Icon="check_circle" Style="font-size: 16px; color: #10b981; margin-right: 8px;" />
                        <span>Otomatik Bildirimler</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Categories Section -->
@if (categories.Any())
{
    <div id="categories" style="padding: 80px 24px; background: white;">
        <div style="max-width: 1200px; margin: 0 auto;">
            <div style="text-align: center; margin-bottom: 60px;">
                <RadzenText TextStyle="TextStyle.DisplayH4" Style="margin: 0; font-weight: 700; color: #1a1a2e; margin-bottom: 16px;">
                    PopÃ¼ler Kategoriler
                </RadzenText>
                <RadzenText TextStyle="TextStyle.H6" Style="color: var(--rz-text-secondary-color); margin: 0;">
                    Hangi alanda hizmet veriyorsunuz?
                </RadzenText>
            </div>

            <RadzenRow Gap="24px">
                @foreach (var category in categories.Take(6))
                {
                    <RadzenColumn Size="12" SizeMD="6" SizeLG="4">
                        <RadzenCard Style="height: 100%; cursor: pointer; transition: transform 0.3s, box-shadow 0.3s;"
                                   @onclick="@(() => Navigation.NavigateTo($"/businesses/category/{category.Id}"))">
                            <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" Gap="16px" Style="padding: 16px;">
                                <div style="width: 60px; height: 60px; border-radius: 12px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items: center; justify-content: center;">
                                    <RadzenText Style="color: white; font-size: 28px; margin: 0;">
                                        @category.Name.Substring(0, 1).ToUpper()
                                    </RadzenText>
                                </div>
                                <RadzenStack Orientation="Orientation.Vertical" Gap="4px">
                                    <RadzenText TextStyle="TextStyle.Subtitle1" Style="margin: 0; font-weight: 600;">
                                        @category.Name
                                    </RadzenText>
                                    @if (!string.IsNullOrEmpty(category.Description))
                                    {
                                        <RadzenText TextStyle="TextStyle.Caption" Style="color: var(--rz-text-secondary-color); margin: 0;">
                                            @category.Description
                                        </RadzenText>
                                    }
                                </RadzenStack>
                            </RadzenStack>
                        </RadzenCard>
                    </RadzenColumn>
                }
            </RadzenRow>

            <div style="text-align: center; margin-top: 40px;">
                <RadzenButton Text="TÃ¼m Kategorileri GÃ¶r" 
                             ButtonStyle="ButtonStyle.Primary" 
                             Size="ButtonSize.Large"
                             Icon="arrow_forward"
                             Click="@(() => Navigation.NavigateTo("/categories"))" />
            </div>
        </div>
    </div>
}

<!-- CTA Section -->
<div style="padding: 80px 24px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
    <div style="max-width: 800px; margin: 0 auto; text-align: center;">
        <RadzenText TextStyle="TextStyle.DisplayH3" Style="color: white; margin: 0; font-weight: 800; margin-bottom: 24px;">
            Hemen BaÅŸlayÄ±n!
        </RadzenText>
        <RadzenText TextStyle="TextStyle.H5" Style="color: rgba(255,255,255,0.95); margin: 0 auto 40px; line-height: 1.6;">
            Ä°ÅŸletmenizi dijitalleÅŸtirmek iÃ§in geÃ§ kalmayÄ±n. Ãœcretsiz hesap oluÅŸturun ve tÃ¼m Ã¶zellikleri keÅŸfedin.
        </RadzenText>
        <RadzenStack Orientation="Orientation.Horizontal" Gap="16px" JustifyContent="JustifyContent.Center" Wrap="FlexWrap.Wrap">
            <RadzenButton Text="Ãœcretsiz Dene" 
                         ButtonStyle="ButtonStyle.Light" 
                         Size="ButtonSize.Large" 
                         Icon="rocket_launch"
                         Click="@(() => Navigation.NavigateTo("/register"))"
                         Style="min-width: 220px; font-weight: 600; font-size: 18px; padding: 16px 32px;" />
        </RadzenStack>
        <RadzenText Style="color: rgba(255,255,255,0.8); margin-top: 24px;">
            ðŸ’³ Kredi kartÄ± gerektirmez â€¢ âš¡ AnÄ±nda baÅŸlayÄ±n â€¢ ðŸŽ¯ Ä°ptal Ã¼cretsiz
        </RadzenText>
    </div>
</div>

<style>
    @@keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .rz-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }
</style>

@code {
    private List<CategoryDto> categories = new();
    private int hoveredIndex = -1;

    protected override async Task OnInitializedAsync()
    {
        await LoadCategories();
    }

    private async Task LoadCategories()
    {
        var response = await CategoryApiService.GetAllCategoriesAsync();
        if (response.Success && response.Data != null)
        {
            categories = response.Data;
        }
    }

    private void HandleHover(MouseEventArgs args, int index)
    {
        hoveredIndex = index;
        StateHasChanged();
    }
}
